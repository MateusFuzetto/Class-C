#!/bin/sh
npx --no -- commitlint --edit

commitMsgFile=$1
commitMsg=$(cat "$commitMsgFile")

case "$commitMsg" in
build*) icon="ðŸ—ï¸" ;;
chore*) icon="ðŸ”¨" ;;
ci*) icon="ðŸšš" ;;
docs*) icon="ðŸ“š" ;;
feat*) icon="âœ¨" ;;
fix*) icon="ðŸ›" ;;
perf*) icon="âš¡" ;;
refactor*) icon="â™»ï¸" ;;
revert*) icon="âª" ;;
style*) icon="ðŸŽ¨" ;;
test*) icon="âœ…" ;;
*) icon="" ;;
esac

# If an emoji was found, prepend it to the commit message and write it back to the file
if [ -n "$icon" ]; then
  echo "$icon $commitMsg" >"$commitMsgFile"
fi
